<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <!-- SEO Meta Tags -->
    <title>CASTOR Forecast | Modelo de Tendencias y Tracci√≥n Narrativa</title>
    <meta name="description" content="Modelo de tendencias narrativas y tracci√≥n de candidatos. Anticipa c√≥mo evoluciona la conversaci√≥n electoral con ICCE, Momentum y el √çndice de Tracci√≥n Narrativa (ITN).">
    <meta name="keywords" content="forecast narrativo, tracci√≥n narrativa, momentum narrativo, proyecci√≥n de conversaci√≥n, an√°lisis prospectivo, ICCE, ITN">
    <meta name="author" content="Castor Elecciones">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://castor-elecciones.com/forecast">
    <meta property="og:title" content="CASTOR Forecast | Modelado Prospectivo Electoral">
    <meta property="og:description" content="Modelos de proyecci√≥n y momentum narrativo para anticipar la evoluci√≥n de la conversaci√≥n electoral.">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="CASTOR Forecast | Modelado Prospectivo Electoral">
    <meta name="twitter:description" content="Anticipa c√≥mo evoluciona la conversaci√≥n electoral con modelos estad√≠sticos.">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon-16x16.png">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Preload critical assets -->
    <link rel="preload" href="/static/css/styles.css?v=20260110" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/static/css/styles.css?v=20260110">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Defer non-critical scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>
    
    <!-- Theme color for mobile browsers -->
    <meta name="theme-color" content="#0A0E1A">
</head>
<body class="landing" data-mode="forecast" itemscope itemtype="https://schema.org/WebPage">
    <header class="main-header" role="banner">
        <nav class="main-nav" role="navigation" aria-label="Navegaci√≥n principal">
            <div class="nav-left">
                <a class="brand" href="/" aria-label="Ir a inicio de Castor Elecciones">
                    <img src="/static/images/logo.png" 
                         alt="Castor Elecciones - Logo" 
                         width="54" 
                         height="54"
                         loading="eager">
                    <div>
                        <strong>Inteligencia Electoral</strong>
                    </div>
                </a>
            </div>
            <div class="nav-center">
                <a href="/media">Para medios</a>
                <a href="/campaign">Para campa√±as</a>
                <a href="/forecast" class="active">Forecast</a>
                <a href="/" class="nav-highlight">Analytics</a>
            </div>
            <div class="nav-right">
                <button class="primary-btn" onclick="openDemoModal()" style="padding: 0.5rem 1.25rem; font-size: 0.9rem;">Solicitar demo</button>
            </div>
            <!-- Mobile menu button -->
            <button class="mobile-menu-toggle" 
                    aria-label="Abrir men√∫ de navegaci√≥n" 
                    aria-expanded="false"
                    aria-controls="mobile-menu"
                    type="button">
                <span class="hamburger-icon" aria-hidden="true"></span>
            </button>
        </nav>
    </header>

    <main id="main-content" role="main">
        <!-- Skip to main content link for accessibility -->
        <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
        
        <!-- Hero Section -->
        <section class="hero" aria-labelledby="hero-title">
            <div class="hero__content">
                <p class="eyebrow" role="doc-subtitle">CASTOR FORECAST ¬∑ MODELADO PROSPECTIVO ¬∑ ANTICIPACI√ìN ESTRAT√âGICA</p>
                <h1 id="hero-title">El pulso adelantado de la campa√±a</h1>
                <p class="lead">
                    CASTOR Forecast muestra hacia d√≥nde va la conversaci√≥n electoral: qu√© candidato est√° ganando terreno, qui√©n lo est√° perdiendo y qu√© temas dominar√°n la agenda en los pr√≥ximos d√≠as.
                </p>
                <p class="hero-microcopy">
                    <strong>Para medios:</strong> Muestra c√≥mo evoluciona el clima electoral y qu√© temas est√°n por volverse noticia.<br>
                    <strong>Para campa√±as:</strong> Te dice si est√°s ganando o perdiendo la narrativa esta semana, por qu√©, y qu√© viene.
                </p>
            </div>
        </section>

         <!-- Forecast Dashboard Section -->
         <section class="panel" aria-labelledby="forecast-dashboard-title">
            <div class="section-header">
                <h2 id="forecast-dashboard-title">¬øC√≥mo est√° la conversaci√≥n electoral?</h2>
                <p class="subtitle">Descubre qui√©n est√° ganando terreno, qui√©n lo est√° perdiendo y qu√© temas dominar√°n la agenda.</p>
            </div>
            
            <div class="card" style="max-width: 1200px; margin: 0 auto;">
                <form id="forecast-form">
                    <div class="form-row" style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;">
                        <div class="form-field" style="flex: 1 1 180px; display: flex; flex-direction: column; gap: 0.25rem;">
                            <label for="forecast-location" style="font-size: 0.85rem; font-weight: 600; color: #374151;">Ubicaci√≥n *</label>
                            <input id="forecast-location" name="location" type="text" placeholder="Colombia, Bogot√°..." required 
                                   style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.4rem 0.6rem; font-size: 0.9rem;" />
                        </div>
                        <div class="form-field" style="flex: 1 1 180px; display: flex; flex-direction: column; gap: 0.25rem;">
                            <label for="forecast-topic" style="font-size: 0.85rem; font-weight: 600; color: #374151;">Tema (opcional)</label>
                            <input id="forecast-topic" name="topic" type="text" placeholder="Seguridad, Salud, Educaci√≥n..." 
                                   style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.4rem 0.6rem; font-size: 0.9rem;" />
                        </div>
                    </div>

                    <div class="form-row" style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;">
                        <div class="form-field" style="flex: 1 1 180px; display: flex; flex-direction: column; gap: 0.25rem;">
                            <label for="forecast-candidate" style="font-size: 0.85rem; font-weight: 600; color: #374151;">Nombre candidato (opcional)</label>
                            <input id="forecast-candidate" name="candidate_name" type="text" placeholder="Nombre propio" 
                                   style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.4rem 0.6rem; font-size: 0.9rem;" />
                        </div>
                        <div class="form-field" style="flex: 1 1 180px; display: flex; flex-direction: column; gap: 0.25rem;">
                            <label for="forecast-politician" style="font-size: 0.85rem; font-weight: 600; color: #374151;">Usuario X/Twitter (opcional)</label>
                            <input id="forecast-politician" name="politician" type="text" placeholder="@usuario" 
                                   style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.4rem 0.6rem; font-size: 0.9rem;" />
                        </div>
                    </div>

                    <div class="form-row" style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; align-items: flex-end;">
                        <div class="form-field" style="flex: 1 1 180px; display: flex; flex-direction: column; gap: 0.25rem;">
                            <label for="forecast-days-back" style="font-size: 0.85rem; font-weight: 600; color: #374151;">D√≠as hacia atr√°s</label>
                            <input id="forecast-days-back" name="days_back" type="number" min="7" max="90" value="30" 
                                   style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.4rem 0.6rem; font-size: 0.9rem;" />
                        </div>
                        <div class="form-field" style="flex: 1 1 180px; display: flex; flex-direction: column; gap: 0.25rem;">
                            <label for="forecast-days-ahead" style="font-size: 0.85rem; font-weight: 600; color: #374151;">D√≠as a proyectar</label>
                            <input id="forecast-days-ahead" name="forecast_days" type="number" min="7" max="30" value="14" 
                                   style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.4rem 0.6rem; font-size: 0.9rem;" />
                        </div>
                        <div class="form-field" style="align-self: flex-end; display: flex; gap: 0.5rem;">
                            <button type="button" onclick="testForecastWithMockup()" class="ghost-btn" style="border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.5rem 1.25rem; font-weight: 600; cursor: pointer; background: transparent; color: #374151;">Prueba con un ejemplo</button>
                            <button type="submit" id="forecast-submit-btn" class="primary-btn" style="border-radius: 0.5rem; border: none; padding: 0.5rem 1.25rem; font-weight: 600; cursor: pointer; background: #111827; color: #f9fafb;">Generar Forecast</button>
                        </div>
                    </div>
                    <div id="forecast-error" class="error" style="display:none; color: #b91c1c; font-size: 0.9rem; margin-top: 0.5rem;"></div>
                    <div id="forecast-loading" style="display:none; margin-top: 0.75rem; color: var(--muted); font-size: 0.95rem; align-items: center; gap: 0.5rem;">
                        <span class="spinner" aria-hidden="true"></span>
                        <span>Generando forecast‚Ä¶</span>
                    </div>
                </form>
            </div>
        </section>

        <!-- Forecast Features Section -->
        <section class="panel" aria-labelledby="forecast-features-title">
            <div class="section-header">
                <h2 id="forecast-features-title">Componentes de CASTOR Forecast</h2>
                <p class="subtitle">Herramientas avanzadas para leer la temperatura y la tracci√≥n de la narrativa electoral.</p>
            </div>
            
            <div class="forecast-grid">
                <!-- √çndice Compuesto -->
                <article class="forecast-card">
                    <div class="forecast-icon">üìä</div>
                    <h3>√çndice Compuesto de Conversaci√≥n Electoral (ICCE)</h3>
                    <p>
                        El ICCE resume la conversaci√≥n diaria de cada candidato combinando volumen, temperatura narrativa (favorable, cr√≠tica y neutra) y cuota de conversaci√≥n dentro del ecosistema digital.
                        Un valor alto significa buena visibilidad con narrativa mayoritariamente favorable; uno bajo indica desgaste o conversaci√≥n predominantemente cr√≠tica.
                    </p>
                    <ul class="forecast-list">
                        <li>Volumen de menciones normalizado</li>
                        <li>Equilibrio entre narrativa favorable, cr√≠tica y neutra</li>
                        <li>Cuota de conversaci√≥n frente a rivales</li>
                        <li>√çndice compuesto 0-100</li>
                    </ul>
                </article>
                
                <!-- Momentum -->
                <article class="forecast-card">
                    <div class="forecast-icon">üìà</div>
                    <h3>MEC ‚Äî Momentum Electoral de Conversaci√≥n</h3>
                    <p>
                        Mide si la narrativa de un candidato est√° ganando o perdiendo tracci√≥n d√≠a a d√≠a. Es ideal para detectar micro-tendencias: ca√≠das, rebotes post-debate, cambios de tema y desgaste narrativo.
                    </p>
                    <ul class="forecast-list">
                        <li>Identificaci√≥n de ca√≠das y picos narrativos</li>
                        <li>Lectura del clima narrativo semanal</li>
                        <li>Se√±ales tempranas de desgaste o crecimiento</li>
                        <li>Comparaci√≥n de tracci√≥n entre candidatos</li>
                    </ul>
                </article>
                
                <!-- Forecast -->
                <article class="forecast-card">
                    <div class="forecast-icon">üîÆ</div>
                    <h3>Proyecci√≥n de conversaci√≥n (7‚Äì14 d√≠as)</h3>
                    <p>
                        CASTOR utiliza modelos estad√≠sticos de series de tiempo para proyectar c√≥mo podr√≠a evolucionar la conversaci√≥n y la tracci√≥n narrativa en horizontes cortos.
                        Esto ayuda a prever ciclos medi√°ticos, anticipar agendas y planear intervenciones estrat√©gicas.
                    </p>
                    <ul class="forecast-list">
                        <li>Modelos Prophet / Holt-Winters / ARIMA</li>
                        <li>Curvas de tendencia con intervalos de confianza</li>
                        <li>Proyecciones por candidato y por tema ciudadano</li>
                        <li>An√°lisis de estacionalidad y cambios de agenda</li>
                    </ul>
                </article>
                
                <!-- Escenarios -->
                <article class="forecast-card">
                    <div class="forecast-icon">üéØ</div>
                    <h3>Simulador de Escenarios Narrativos</h3>
                    <p>
                        Permite explorar c√≥mo podr√≠a reaccionar la conversaci√≥n ante distintos eventos: anuncios, debates, crisis o nuevas narrativas.
                        Los escenarios NO predicen voto; modelan posibles cambios en conversaci√≥n basados en patrones hist√≥ricos.
                    </p>
                    <ul class="forecast-list">
                        <li>Impacto estimado de anuncios estrat√©gicos</li>
                        <li>Simulaci√≥n de crisis comunicacionales</li>
                        <li>Comparaci√≥n entre candidatos bajo distintos contextos</li>
                        <li>An√°lisis de sensibilidad narrativa</li>
                    </ul>
                </article>
            </div>
        </section>

        <!-- Value Proposition Section -->
        <section class="panel">
            <div class="section-header">
                <h2>¬øPor qu√© CASTOR Forecast?</h2>
                <p class="subtitle">Capacidades √∫nicas para equipos de campa√±a y medios de comunicaci√≥n.</p>
            </div>
            
            <div class="cards-grid">
                <article class="product-card">
                    <div class="product-badge">Anticipaci√≥n</div>
                    <h3>Detecta cambios antes que los medios</h3>
                    <p class="product-description">
                        CASTOR Forecast identifica cambios en momentum y tendencias narrativas antes de que se conviertan en noticia. Esto permite anticipar crisis y oportunidades.
                    </p>
                </article>
                <article class="product-card">
                    <div class="product-badge">Decisiones basadas en datos</div>
                    <h3>Reemplaza la intuici√≥n con evidencia</h3>
                    <p class="product-description">
                        Los modelos estad√≠sticos de CASTOR Forecast proporcionan evidencia objetiva para decisiones estrat√©gicas, reduciendo la dependencia de percepciones subjetivas.
                    </p>
                </article>
                <article class="product-card featured-card">
                    <div class="product-badge featured">Estrategia</div>
                    <h3>Optimiza el timing de intervenciones</h3>
                    <p class="product-description">
                        Con proyecciones de conversaci√≥n y simuladores de escenarios, puedes identificar el momento √≥ptimo para anuncios, debates o cambios narrativos.
                    </p>
                </article>
            </div>
        </section>

        <!-- Use Cases Section -->
        <section class="panel">
            <div class="section-header">
                <h2>Casos de uso</h2>
                <p class="subtitle">C√≥mo equipos de campa√±a y medios utilizan CASTOR Forecast.</p>
            </div>
            
            <div class="forecast-use-cases">
                <article class="use-case-card">
                    <h3>‚ùì "¬øVamos ganando o perdiendo narrativa?"</h3>
                    <p><strong>CASTOR responde con:</strong> Momentum Electoral (MEC)</p>
                    <p>Un valor positivo indica ganando la semana; negativo indica erosi√≥n de apoyo. Permite detectar cambios antes de que se reflejen en encuestas.</p>
                </article>
                
                <article class="use-case-card">
                    <h3>‚ùì "¬øQu√© tema nos conviene tocar esta semana?"</h3>
                    <p><strong>CASTOR responde con:</strong> Forecast de temas</p>
                    <p>Proyecciones indican qu√© temas van a subir o caer en conversaci√≥n. Esto permite alinear la agenda estrat√©gica con tendencias emergentes.</p>
                </article>
                
                <article class="use-case-card">
                    <h3>‚ùì "¬øQu√© dijo la gente despu√©s del debate?"</h3>
                    <p><strong>CASTOR responde con:</strong> ICCE antes/despu√©s</p>
                    <p>Comparaci√≥n del √≠ndice compuesto antes y despu√©s del evento permite medir el impacto narrativo inmediato.</p>
                </article>
                
                <article class="use-case-card">
                    <h3>‚ùì "¬øCu√°ndo va a explotar una crisis?"</h3>
                    <p><strong>CASTOR responde con:</strong> Detecci√≥n de picos negativos</p>
                    <p>Los modelos identifican patrones que preceden crisis comunicacionales, permitiendo preparaci√≥n anticipada.</p>
                </article>
                
                <article class="use-case-card">
                    <h3>‚ùì "¬øCu√°l ser√° el efecto de anunciar X medida?"</h3>
                    <p><strong>CASTOR responde con:</strong> Simulador de escenarios</p>
                    <p>Modelado de impacto estimado permite evaluar diferentes opciones estrat√©gicas antes de implementarlas.</p>
                </article>
                
                <article class="use-case-card">
                    <h3>‚ùì "¬øQu√© est√°n haciendo los rivales?"</h3>
                    <p><strong>CASTOR responde con:</strong> Comparaci√≥n de momentum</p>
                    <p>An√°lisis comparativo de cuota de conversaci√≥n y momentum entre candidatos permite entender el panorama competitivo.</p>
                </article>
            </div>
        </section>


        <!-- Results Section -->
            <div id="forecast-results" style="display: none; margin-top: 3rem;">
                <div class="card" style="max-width: 1200px; margin: 0 auto;">
                    
                    <!-- Summary Cards at Top -->
                    <div id="forecast-summary" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
                        <!-- Estado Actual -->
                        <div id="current-status-card" style="padding: 1.5rem; background: var(--panel-alt); border-radius: 12px; border-left: 4px solid var(--accent-blue);">
                            <p style="color: var(--muted); margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 600;">üîµ ESTADO ACTUAL</p>
                            <p id="current-status-text" style="font-size: 1.1rem; line-height: 1.6; color: var(--text);">-</p>
                        </div>
                        
                        <!-- Momentum -->
                        <div id="momentum-status-card" style="padding: 1.5rem; background: var(--panel-alt); border-radius: 12px; border-left: 4px solid var(--accent);">
                            <p style="color: var(--muted); margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 600;">üü† MOMENTUM</p>
                            <p id="momentum-status-text" style="font-size: 1.1rem; line-height: 1.6; color: var(--text);">-</p>
                        </div>
                        
                        <!-- Proyecci√≥n -->
                        <div id="projection-status-card" style="padding: 1.5rem; background: var(--panel-alt); border-radius: 12px; border-left: 4px solid var(--success);">
                            <p style="color: var(--muted); margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 600;">üü£ PROYECCI√ìN</p>
                            <p id="projection-status-text" style="font-size: 1.1rem; line-height: 1.6; color: var(--text);">-</p>
                        </div>
                    </div>

                    <!-- Position Narrative Card -->
                    <div id="position-narrative-card" style="padding: 2rem; background: var(--panel-alt); border-radius: 12px; margin-bottom: 2rem; border: 1px solid var(--border);">
                        <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: var(--text);">‚≠ê Posici√≥n Narrativa del Candidato</h3>
                        <div style="display: flex; align-items: center; gap: 2rem; flex-wrap: wrap;">
                            <div>
                                <p id="position-value" style="font-size: 3rem; font-weight: 700; color: var(--accent); margin: 0;">-</p>
                                <p id="position-label" style="color: var(--muted); margin-top: 0.5rem; font-size: 0.9rem;">-</p>
                            </div>
                            <div style="flex: 1; min-width: 200px;">
                                <p id="position-interpretation" style="font-size: 1.1rem; line-height: 1.6; color: var(--text); margin-bottom: 0.5rem;">-</p>
                                <p id="position-risk" style="color: var(--muted); font-size: 0.9rem;">-</p>
                            </div>
                        </div>
                    </div>

                    <!-- Strategic Recommendation Card -->
                    <div id="strategic-recommendation-card" style="padding: 2rem; background: rgba(194, 169, 109, 0.1); border-radius: 12px; margin-bottom: 2rem; border-left: 4px solid var(--success); display: none;">
                        <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: var(--text);">üéØ Recomendaci√≥n Estrat√©gica</h3>
                        <p id="strategic-recommendation" style="font-size: 1.1rem; line-height: 1.8; color: var(--text);">-</p>
                    </div>

                    <!-- Tabs for Detailed Views -->
                    <div class="tabs" style="display: flex; border-bottom: 1px solid #e5e7eb; margin-bottom: 2rem; gap: 0.5rem; flex-wrap: wrap;">
                        <button class="tab active" data-tab="overview" style="padding: 0.75rem 1.25rem; border-radius: 8px 8px 0 0; font-size: 0.95rem; font-weight: 600; cursor: pointer; border: none; border-bottom: 2px solid var(--accent); background: transparent; color: var(--accent);">Resumen</button>
                        <button class="tab" data-tab="trends" style="padding: 0.75rem 1.25rem; border-radius: 8px 8px 0 0; font-size: 0.95rem; font-weight: 600; cursor: pointer; border: none; border-bottom: 2px solid transparent; background: transparent; color: var(--muted);">Tendencias</button>
                        <button class="tab" data-tab="opportunities" style="padding: 0.75rem 1.25rem; border-radius: 8px 8px 0 0; font-size: 0.95rem; font-weight: 600; cursor: pointer; border: none; border-bottom: 2px solid transparent; background: transparent; color: var(--muted);">Oportunidades</button>
                        <button class="tab" data-tab="risks" style="padding: 0.75rem 1.25rem; border-radius: 8px 8px 0 0; font-size: 0.95rem; font-weight: 600; cursor: pointer; border: none; border-bottom: 2px solid transparent; background: transparent; color: var(--muted);">Riesgos</button>
                    </div>

                    <!-- Tab: Overview -->
                    <div id="tab-overview" class="tab-content active" style="display: block;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                            <div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">üìä Dominio Narrativo</h4>
                                <div id="share-of-voice-display" style="padding: 1rem; background: var(--panel-alt); border-radius: 8px;">
                                    <p style="color: var(--muted); font-size: 0.9rem;">-</p>
                                </div>
                            </div>
                            <div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">üí¨ Tono de la Conversaci√≥n</h4>
                                <div id="sentiment-display" style="padding: 1rem; background: var(--panel-alt); border-radius: 8px;">
                                    <p style="color: var(--muted); font-size: 0.9rem;">-</p>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 2rem;">
                            <canvas id="forecast-chart" height="80"></canvas>
                        </div>
                    </div>

                    <!-- Tab: Trends -->
                    <div id="tab-trends" class="tab-content" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                            <div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">üìà Evoluci√≥n Hist√≥rica</h4>
                                <canvas id="icce-chart" height="200"></canvas>
                            </div>
                            <div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">üìä Momentum</h4>
                                <canvas id="momentum-chart" height="200"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Tab: Opportunities -->
                    <div id="tab-opportunities" class="tab-content" style="display: none;">
                        <div id="opportunities-list" style="display: grid; gap: 1rem;">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Tab: Risks -->
                    <div id="tab-risks" class="tab-content" style="display: none;">
                        <div id="risks-list" style="display: grid; gap: 1rem;">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="panel forecast-cta-section">
            <div class="forecast-cta">
                <h2>¬øQuieres ver CASTOR Forecast aplicado a tu campa√±a?</h2>
                <p>Solicita una demo personalizada con datos reales de tu candidato, ciudad o tema.</p>
                <div class="forecast-cta-buttons">
                    <button class="primary-btn large" onclick="openDemoModal()">Solicitar demo</button>
                    <a href="/campaign" class="ghost-btn">Ver CASTOR Campa√±as ‚Üí</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-grid">
            <div class="footer-column">
                <h3>Castor Elecciones</h3>
                <p>Plataforma de an√°lisis electoral basada en datos y modelos auditables.</p>
                <p class="muted">¬© 2026 CASTOR Elecciones. Todos los derechos reservados.</p>
            </div>
            <div class="footer-column">
                <h4>Productos</h4>
                <ul>
                    <li><a href="/media">CASTOR Medios</a></li>
                    <li><a href="/campaign">CASTOR Campa√±as</a></li>
                    <li><a href="/forecast">CASTOR Forecast</a></li>
                    <li><a href="/docs">Documentaci√≥n t√©cnica</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Informaci√≥n</h4>
                <ul>
                    <li><a href="/webpage#pipeline">Arquitectura</a></li>
                    <li><a href="/webpage#methodology">Metodolog√≠a</a></li>
                    <li><a href="/webpage#features">Caracter√≠sticas</a></li>
                    <li><a href="/webpage#origins-title">Or√≠genes de CASTOR</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Legal / Pol√≠ticas</h4>
                <ul>
                    <li><a href="#">Uso de datos p√∫blicos</a></li>
                    <li><a href="#">Privacidad</a></li>
                    <li><a href="#">T√©rminos y condiciones</a></li>
                    <li><a href="/contact">Contacto</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Modal para Solicitar Demo -->
    <div id="demoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Solicitar Demo</h2>
                <button class="modal-close" onclick="closeDemoModal()">&times;</button>
            </div>
            <form id="demoForm" class="modal-form">
                <div class="form-row">
                    <label>
                        Nombre *
                        <input type="text" name="first_name" id="demo-first-name" required placeholder="Juan">
                    </label>
                    <label>
                        Apellido *
                        <input type="text" name="last_name" id="demo-last-name" required placeholder="P√©rez">
                    </label>
                </div>
                <label>
                    Correo electr√≥nico *
                    <input type="email" name="email" id="demo-email" required placeholder="juan.perez@example.com">
                </label>
                <label>
                    Tel√©fono *
                    <input type="tel" name="phone" id="demo-phone" required placeholder="+57 300 123 4567">
                </label>
                <label>
                    ¬øQu√© te interesa? *
                    <select name="interest" id="demo-interest" required>
                        <option value="">Selecciona una opci√≥n</option>
                        <option value="forecast">Forecast</option>
                        <option value="campa√±as">Campa√±as</option>
                        <option value="medios">Medios</option>
                    </select>
                </label>
                <label>
                    Ubicaci√≥n (Ciudad) *
                    <input type="text" name="location" id="demo-location" required placeholder="Bogot√°, Medell√≠n, Cali...">
                </label>
                <div class="form-actions">
                    <button type="button" class="ghost-btn" onclick="closeDemoModal()">Cancelar</button>
                    <button type="submit" class="primary-btn">Enviar solicitud</button>
                </div>
            </form>
        </div>
    </div>

    <!-- API Configuration: Set API_BASE_URL from environment variable -->
    <script>
        // Set API base URL
        window.API_BASE_URL = (function() {
            if (typeof process !== 'undefined' && process.env && process.env.NEXT_PUBLIC_API_BASE_URL) {
                return process.env.NEXT_PUBLIC_API_BASE_URL;
            }
            if (typeof window !== 'undefined' && window.location) {
                var origin = window.location.origin;
                if (origin.includes('vercel.app')) {
                    return 'https://castorelecciones.ngrok.app';
                }
                return origin;
            }
            return 'https://castorelecciones.ngrok.app';
        })();
    </script>
    <script src="/static/js/config.js?v=20260110"></script>
    <script src="/static/js/main.js?v=20260110"></script>
    <script src="/static/js/performance.js?v=20260110" defer></script>
    <script src="/static/js/landing.js?v=20260110" defer></script>
    <script src="/static/js/forecast_human.js?v=20260110"></script>
    <script src="/static/js/forecast.js?v=20260110"></script>
</body>
</html>
