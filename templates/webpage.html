<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <!-- SEO Meta Tags - Optimizado Colombia 2026 -->
    <title>CASTOR IA Electoral | Software de Estrategia para Campanas Colombia 2026</title>
    <meta name="description" content="Software electoral inteligente para alcaldias, gobernaciones, Congreso y presidencia. Analiza conversacion publica, compara vs rivales reales y recibe la jugada diaria. Prueba gratis.">
    <meta name="keywords" content="software electoral Colombia, estrategia campana politica, IA electoral 2026, dashboard campana, analisis narrativo electoral, alcaldia, gobernacion, Congreso, Bogota, Medellin, Cali">
    <meta name="author" content="CASTOR Elecciones">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <link rel="canonical" href="https://castor-elecciones.com/">
    <meta name="geo.region" content="CO">
    <meta name="geo.placename" content="Colombia">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://castor-elecciones.com/">
    <meta property="og:title" content="CASTOR | Software Electoral Inteligente para Colombia 2026">
    <meta property="og:description" content="Tu copiloto electoral con IA. Funciona para alcaldias, gobernaciones, Congreso o presidencia. Compara vs rivales y recibe jugadas diarias.">
    <meta property="og:image" content="https://castorelecciones.com/static/images/og-image.jpg">
    <meta property="og:locale" content="es_CO">
    <meta property="og:site_name" content="CASTOR IA Electoral">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://castor-elecciones.com/">
    <meta name="twitter:title" content="CASTOR | Software Electoral IA Colombia 2026">
    <meta name="twitter:description" content="Estrategia electoral con IA para cualquier campana. Alcaldias, gobernaciones, Congreso, presidencia. Jugada diaria + comparacion vs rivales.">
    <meta name="twitter:image" content="https://castorelecciones.com/static/images/og-image.jpg">

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/castorlogo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/castorlogo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/castorlogo.png">
    <link rel="shortcut icon" href="/static/images/castorlogo.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

    <!-- Preload critical assets -->
    <link rel="preload" href="/static/css/styles.css?v=20260110c" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/static/css/styles.css?v=20260110c">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Structured Data / JSON-LD - Schema completo -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "Organization",
                "@id": "https://castor-elecciones.com/#organization",
                "name": "CASTOR Elecciones",
                "url": "https://castor-elecciones.com",
                "logo": "https://castor-elecciones.com/static/images/castorlogo.png",
                "description": "Software electoral inteligente con IA para campanas politicas en Colombia",
                "areaServed": {
                    "@type": "Country",
                    "name": "Colombia"
                }
            },
            {
                "@type": "SoftwareApplication",
                "@id": "https://castor-elecciones.com/#software",
                "name": "CASTOR IA Electoral",
                "applicationCategory": "BusinessApplication",
                "operatingSystem": "Web",
                "offers": {
                    "@type": "Offer",
                    "price": "Consultar",
                    "priceCurrency": "COP",
                    "availability": "https://schema.org/InStock"
                },
                "description": "Dashboard de estrategia electoral con IA para campanas en Colombia 2026. Analiza conversacion publica, compara vs rivales y genera jugadas diarias.",
                "url": "https://castor-elecciones.com",
                "author": {"@id": "https://castor-elecciones.com/#organization"},
                "featureList": [
                    "Comparacion vs rivales en tiempo real",
                    "Jugada diaria recomendada",
                    "Analisis de sentimiento",
                    "Forecast narrativo",
                    "Alertas y triggers de accion",
                    "Asistente IA conversacional 24/7 - Preguntale a CASTOR"
                ],
                "screenshot": "https://castor-elecciones.com/static/images/og-image.jpg"
            },
            {
                "@type": "WebPage",
                "@id": "https://castor-elecciones.com/#webpage",
                "url": "https://castor-elecciones.com",
                "name": "CASTOR IA Electoral - Software de Estrategia para Campanas Colombia 2026",
                "description": "Software electoral inteligente para alcaldias, gobernaciones, Congreso y presidencia.",
                "isPartOf": {"@id": "https://castor-elecciones.com/#organization"},
                "about": {"@id": "https://castor-elecciones.com/#software"},
                "inLanguage": "es-CO"
            }
        ]
    }
    </script>

    <!-- Defer non-critical scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>

    <!-- Theme color for mobile browsers -->
    <meta name="theme-color" content="#0A0E1A">

    <style>
        .hero-electoral {
            padding: 4rem clamp(1.5rem, 4vw, 4rem) 3rem;
            background: radial-gradient(circle at 30% 20%, rgba(255, 106, 61, 0.15), transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(66, 214, 151, 0.1), transparent 50%),
                        linear-gradient(135deg, rgba(10, 37, 64, 0.5), rgba(10, 14, 26, 0.8));
            border-bottom: 1px solid var(--border);
        }
        .hero-electoral .hero__content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        .hero-logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 1.5rem;
            filter: drop-shadow(0 8px 24px rgba(255, 106, 61, 0.3));
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        .hero-electoral h1 {
            font-size: clamp(2rem, 4.5vw, 3rem);
            line-height: 1.15;
            margin-bottom: 1.25rem;
        }
        .hero-electoral .lead {
            font-size: 1.15rem;
            color: var(--muted);
            max-width: 650px;
            margin: 0 auto 2rem;
        }
        .hero-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent), #ff8c5a);
            color: white;
            padding: 0.5rem 1.25rem;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .hero-split {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            max-width: 1200px;
            margin: 3rem auto 0;
        }
        .hero-chart-container {
            background: var(--panel-alt);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 1.5rem;
            position: relative;
        }
        .hero-chart-label {
            position: absolute;
            top: 1rem;
            left: 1.5rem;
            font-size: 0.8rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .hero-chart-badge {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            background: var(--success);
            color: #0A0E1A;
            padding: 0.2rem 0.6rem;
            border-radius: 999px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        .hero-info-card {
            background: var(--panel-alt);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: left;
        }
        .hero-info-card h3 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text);
        }
        .hero-info-item {
            display: flex;
            justify-content: space-between;
            padding: 0.6rem 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.9rem;
        }
        .hero-info-item:last-child {
            border-bottom: none;
        }
        .hero-info-label {
            color: var(--muted);
        }
        .hero-info-value {
            font-weight: 600;
            color: var(--text);
        }
        .hero-info-value.positive {
            color: var(--success);
        }
        .hero-info-value.negative {
            color: var(--accent);
        }
        @media (max-width: 900px) {
            .hero-split {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            .hero-logo {
                width: 100px;
                height: 100px;
            }
        }
        .value-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        .value-card {
            background: var(--panel-alt);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            text-align: left;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .value-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }
        .value-card h3 {
            font-size: 1.2rem;
            margin-bottom: 0.75rem;
            color: var(--text);
        }
        .value-card p {
            color: var(--muted);
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .value-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 106, 61, 0.15);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        .rivals-section {
            background: var(--panel);
            padding: 4rem clamp(1.5rem, 4vw, 4rem);
            border-bottom: 1px solid var(--border);
        }
        .rivals-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
            max-width: 900px;
            margin: 2rem auto 0;
        }
        .rival-chip {
            background: var(--panel-alt);
            border: 1px solid var(--border);
            padding: 0.6rem 1.25rem;
            border-radius: 999px;
            font-size: 0.9rem;
            color: var(--text);
            transition: all 0.2s ease;
        }
        .rival-chip:hover {
            border-color: var(--accent);
            background: rgba(255, 106, 61, 0.1);
        }
        .demo-preview {
            background: var(--panel-alt);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 2rem;
            max-width: 900px;
            margin: 3rem auto 0;
        }
        .demo-preview-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }
        .demo-preview-header h4 {
            margin: 0;
            font-size: 1rem;
            color: var(--text);
        }
        .demo-preview-badge {
            background: var(--success);
            color: #0A0E1A;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .demo-move {
            background: rgba(66, 214, 151, 0.1);
            border: 1px solid rgba(66, 214, 151, 0.3);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }
        .demo-move-label {
            font-size: 0.8rem;
            color: var(--success);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        .demo-move-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: var(--text);
        }
        .demo-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        .demo-metric {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
        }
        .demo-metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
        }
        .demo-metric-label {
            font-size: 0.8rem;
            color: var(--muted);
            margin-top: 0.25rem;
        }
        .how-section {
            padding: 5rem clamp(1.5rem, 4vw, 4rem);
        }
        .how-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            max-width: 1100px;
            margin: 3rem auto 0;
        }
        .how-step {
            text-align: center;
            position: relative;
        }
        .how-step-number {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--accent), #ff8c5a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            margin: 0 auto 1rem;
        }
        .how-step h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        .how-step p {
            color: var(--muted);
            font-size: 0.9rem;
        }
        .outputs-section {
            background: var(--panel);
            padding: 5rem clamp(1.5rem, 4vw, 4rem);
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }
        .outputs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 3rem auto 0;
        }
        .output-card {
            background: var(--panel-alt);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.75rem;
        }
        .output-card h3 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .output-card ul {
            margin: 0;
            padding-left: 1.25rem;
            color: var(--muted);
        }
        .output-card li {
            margin-bottom: 0.4rem;
            font-size: 0.9rem;
        }
        .cta-electoral {
            padding: 5rem clamp(1.5rem, 4vw, 4rem);
            text-align: center;
            background: radial-gradient(circle at 50% 50%, rgba(255, 106, 61, 0.12), transparent 60%);
        }
        .cta-electoral h2 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 1rem;
        }
        .cta-electoral p {
            color: var(--muted);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }
        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        .trust-section {
            padding: 3rem clamp(1.5rem, 4vw, 4rem);
            border-top: 1px solid var(--border);
        }
        .trust-grid {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
            max-width: 800px;
            margin: 0 auto;
        }
        .trust-item {
            text-align: center;
        }
        .trust-item-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .trust-item p {
            color: var(--muted);
            font-size: 0.85rem;
        }
        @media (max-width: 768px) {
            .demo-metrics {
                grid-template-columns: 1fr;
            }
            .nav-center {
                display: none;
            }
        }
        /* CTA Flotante */
        .cta-floating {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #FF6A3D 0%, #FF8C5A 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 999px;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            box-shadow: 0 4px 20px rgba(255, 106, 61, 0.4);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }
        .cta-floating.visible {
            opacity: 1;
            visibility: visible;
        }
        .cta-floating:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 6px 30px rgba(255, 106, 61, 0.6);
        }
        @media (max-width: 600px) {
            .cta-floating {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
                bottom: 16px;
            }
        }
        /* Tipos de campana */
        .campaign-types {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: center;
            margin-top: 1.5rem;
        }
        .campaign-type-chip {
            background: rgba(255, 106, 61, 0.1);
            border: 1px solid rgba(255, 106, 61, 0.3);
            color: #FF8C5A;
            padding: 0.4rem 1rem;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        /* Mobile UX mejorado */
        @media (max-width: 480px) {
            .hero-electoral h1 {
                font-size: 1.75rem;
            }
            .hero-electoral .lead {
                font-size: 1rem;
            }
            .cta-buttons {
                flex-direction: column;
                gap: 0.75rem;
            }
            .cta-buttons .primary-btn,
            .cta-buttons .ghost-btn {
                width: 100%;
                padding: 1rem !important;
                font-size: 1rem !important;
            }
            .hero-info-card {
                padding: 1.25rem;
            }
            .value-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body class="landing" itemscope itemtype="https://schema.org/WebPage">
    <header class="main-header" role="banner">
        <nav class="main-nav" role="navigation" aria-label="Navegacion principal">
            <div class="nav-left">
                <a class="brand" href="/" aria-label="Ir a inicio de Castor Elecciones">
                    <img src="/static/images/castorlogo.png"
                         alt="Castor Elecciones - Logo"
                         width="54"
                         height="54"
                         loading="eager">
                    <div>
                        <strong>CASTOR</strong>
                        <small>IA Electoral</small>
                    </div>
                </a>
            </div>
            <div class="nav-center">
                <a href="#valor">Propuesta</a>
                <a href="#como-funciona">Como funciona</a>
                <a href="#outputs">Que entrega</a>
                <a href="#metodologia">Metodologia</a>
            </div>
            <div class="nav-right" style="display: flex; gap: 0.75rem; align-items: center;">
                <a href="/dashboard" class="primary-btn" style="padding: 0.5rem 1.25rem; font-size: 0.9rem; text-decoration: none; display: inline-block;">Probar ahora</a>
                <button class="ghost-btn" onclick="openDemoModal()" style="padding: 0.5rem 1.25rem; font-size: 0.9rem;">Solicitar demo</button>
            </div>
            <!-- Mobile menu button -->
            <button class="mobile-menu-toggle"
                    aria-label="Abrir menu de navegacion"
                    aria-expanded="false"
                    aria-controls="mobile-menu"
                    type="button">
                <span class="hamburger-icon" aria-hidden="true"></span>
            </button>
        </nav>
    </header>

    <main id="main-content" role="main">
        <!-- Skip to main content link for accessibility -->
        <a href="#main-content" class="skip-link">Saltar al contenido principal</a>

        <!-- Hero Section -->
        <section class="hero-electoral" aria-labelledby="hero-title">
            <div class="hero__content">
                <img src="/static/images/castorlogo.png" alt="CASTOR Logo" class="hero-logo" loading="eager">
                <div class="hero-badge">Software Electoral Inteligente</div>
                <h1 id="hero-title">Tu copiloto en cualquier contienda electoral</h1>
                <p class="lead">
                    CASTOR analiza la conversacion publica de tu territorio, compara tu narrativa vs rivales reales y te entrega la jugada ganadora del dia. Funciona para alcaldias, gobernaciones, Congreso o presidencia.
                </p>
                <!-- Tipos de campana soportadas -->
                <div class="campaign-types">
                    <span class="campaign-type-chip">Alcaldias</span>
                    <span class="campaign-type-chip">Gobernaciones</span>
                    <span class="campaign-type-chip">Concejos</span>
                    <span class="campaign-type-chip">Asambleas</span>
                    <span class="campaign-type-chip">Congreso</span>
                    <span class="campaign-type-chip">Presidencia</span>
                </div>
                <div class="cta-buttons" style="margin-top: 2rem;">
                    <a href="/dashboard" class="primary-btn large" style="text-decoration: none; display: inline-block;">Probar con datos de ejemplo</a>
                    <button class="ghost-btn" onclick="openDemoModal()">Solicitar demo para mi campana</button>
                </div>

                <!-- Demo visual con grafica -->
                <div class="hero-split">
                    <div class="hero-chart-container">
                        <span class="hero-chart-label">Tu campana vs Rival seleccionado</span>
                        <span class="hero-chart-badge">Ejemplo en vivo</span>
                        <canvas id="hero-radar-chart" height="280"></canvas>
                    </div>
                    <div class="hero-info-card">
                        <h3>Jugada recomendada del dia</h3>
                        <div style="background: rgba(66, 214, 151, 0.1); border: 1px solid rgba(66, 214, 151, 0.3); border-radius: 10px; padding: 1rem; margin-bottom: 1rem;">
                            <div style="font-size: 0.75rem; color: var(--success); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.4rem;">Jugada principal</div>
                            <div style="font-weight: 600; color: var(--text);">Contrastar en [Tema caliente]: comunicado + video corto + 3 posts</div>
                        </div>
                        <div class="hero-info-item">
                            <span class="hero-info-label">ICCE (Indice Conversacion)</span>
                            <span class="hero-info-value">62.4</span>
                        </div>
                        <div class="hero-info-item">
                            <span class="hero-info-label">Momentum narrativo</span>
                            <span class="hero-info-value positive">+0.012</span>
                        </div>
                        <div class="hero-info-item">
                            <span class="hero-info-label">Ventaja en tema clave</span>
                            <span class="hero-info-value positive">+8 pts</span>
                        </div>
                        <div class="hero-info-item">
                            <span class="hero-info-label">Brecha a cerrar</span>
                            <span class="hero-info-value negative">-12 pts</span>
                        </div>
                        <div class="hero-info-item">
                            <span class="hero-info-label">Nivel de confianza</span>
                            <span class="hero-info-value">Alta</span>
                        </div>
                        <a href="/dashboard" class="primary-btn" style="display: block; text-align: center; margin-top: 1rem; text-decoration: none;">Probar ahora gratis</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Propuesta de Valor -->
        <section id="valor" class="panel" style="padding: 5rem clamp(1.5rem, 4vw, 4rem);">
            <div class="section-header">
                <h2>Una sola plataforma. Toda tu estrategia electoral.</h2>
                <p class="subtitle">CASTOR unifica analisis de narrativa, comparacion de rivales, alertas tempranas y recomendaciones tacticas.</p>
            </div>
            <div class="value-grid">
                <div class="value-card">
                    <div class="value-icon">vs</div>
                    <h3>Comparacion vs rivales</h3>
                    <p>Mide tu posicion narrativa contra candidatos reales. Radar de fortalezas por tema: seguridad, economia, salud, paz. Identifica brechas y oportunidades.</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">!</div>
                    <h3>Jugada del dia</h3>
                    <p>Recomendacion tactica especifica con formato de ejecucion: comunicado + video + posts. Incluye payoff estimado y nivel de confianza.</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">~</div>
                    <h3>Alertas y triggers</h3>
                    <p>Define cuando actuar: si el ICCE cae 8 puntos o el sentimiento baja 10%, activar respuesta en 48h. Monitoreo continuo automatizado.</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">^</div>
                    <h3>Forecast narrativo</h3>
                    <p>Proyeccion de tendencia a 7-14 dias. Anticipa cambios en la conversacion antes que se materialicen. Momentum y direccion clara.</p>
                </div>
            </div>
        </section>

        <!-- Rivales Reales -->
        <section class="rivals-section">
            <div class="section-header">
                <h2>Compara contra cualquier rival</h2>
                <p class="subtitle">CASTOR tiene perfiles de figuras politicas activas en Colombia. Tambien puedes agregar rivales locales de tu territorio.</p>
            </div>
            <div class="rivals-grid">
                <span class="rival-chip">Vicky Davila</span>
                <span class="rival-chip">Mauricio Cardenas</span>
                <span class="rival-chip">David Luna</span>
                <span class="rival-chip">Juan Manuel Galan</span>
                <span class="rival-chip">Anibal Gaviria</span>
                <span class="rival-chip">Juan Daniel Oviedo</span>
                <span class="rival-chip">+ Tu rival local</span>
            </div>
            <p style="text-align: center; color: var(--muted); font-size: 0.85rem; margin-top: 1rem;">
                Funciona igual para: alcaldias de Bogota, Medellin, Cali o municipios pequenos &bull; listas al Congreso &bull; gobernaciones &bull; revocatorias
            </p>

            <!-- Demo Preview -->
            <div class="demo-preview">
                <div class="demo-preview-header">
                    <h4>Ejemplo: Tu campana vs Rival seleccionado</h4>
                    <span class="demo-preview-badge">Datos de ejemplo</span>
                </div>
                <div class="demo-move">
                    <div class="demo-move-label">Jugada principal recomendada</div>
                    <div class="demo-move-text">Contrastar en [Tema dominante]: comunicado + video corto + 3 posts con hashtags locales</div>
                </div>
                <div class="demo-metrics">
                    <div class="demo-metric">
                        <div class="demo-metric-value">62.4</div>
                        <div class="demo-metric-label">ICCE actual</div>
                    </div>
                    <div class="demo-metric">
                        <div class="demo-metric-value" style="color: var(--success);">+0.012</div>
                        <div class="demo-metric-label">Momentum</div>
                    </div>
                    <div class="demo-metric">
                        <div class="demo-metric-value">Alta</div>
                        <div class="demo-metric-label">Confianza</div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <a href="/dashboard" class="primary-btn" style="text-decoration: none;">Probar con mi territorio</a>
            </div>
        </section>

        <!-- Como Funciona -->
        <section id="como-funciona" class="how-section">
            <div class="section-header">
                <h2>Como funciona CASTOR</h2>
                <p class="subtitle">De datos publicos a estrategia accionable en 4 pasos.</p>
            </div>
            <div class="how-steps">
                <div class="how-step">
                    <div class="how-step-number">1</div>
                    <h3>Recolecta</h3>
                    <p>Captura conversacion publica filtrada por ubicacion, tema y actores politicos.</p>
                </div>
                <div class="how-step">
                    <div class="how-step-number">2</div>
                    <h3>Analiza</h3>
                    <p>Clasifica sentimiento, detecta temas dominantes y mide fuerza narrativa (ICCE).</p>
                </div>
                <div class="how-step">
                    <div class="how-step-number">3</div>
                    <h3>Compara</h3>
                    <p>Posiciona tu campana vs rivales en radar de temas. Identifica brechas y ventajas.</p>
                </div>
                <div class="how-step">
                    <div class="how-step-number">4</div>
                    <h3>Recomienda</h3>
                    <p>Genera jugada del dia con formato de ejecucion, payoff estimado y triggers de accion.</p>
                </div>
                <div class="how-step" style="background: linear-gradient(135deg, rgba(255, 106, 61, 0.12), rgba(66, 214, 151, 0.08)); border: 1px solid rgba(255, 106, 61, 0.25);">
                    <div class="how-step-number" style="background: linear-gradient(135deg, #FF6A3D, #ff8c5a);">5</div>
                    <h3>Preguntale a CASTOR</h3>
                    <p>Tu estratega IA 24/7. Consulta datos, pide analisis, genera contenido. Todo en lenguaje natural.</p>
                </div>
            </div>
        </section>

        <!-- Outputs -->
        <section id="outputs" class="outputs-section">
            <div class="section-header">
                <h2>Que entrega CASTOR</h2>
                <p class="subtitle">Outputs claros, accionables y verificables para tu equipo de campana.</p>
            </div>
            <div class="outputs-grid">
                <div class="output-card">
                    <h3>Dashboard de estrategia</h3>
                    <ul>
                        <li>Radar vs rivales por tema</li>
                        <li>Brechas y oportunidades</li>
                        <li>Jugada principal del dia</li>
                        <li>Alternativas tacticas</li>
                    </ul>
                </div>
                <div class="output-card">
                    <h3>Metricas clave</h3>
                    <ul>
                        <li>ICCE (Indice de Conversacion)</li>
                        <li>Momentum narrativo</li>
                        <li>Sentimiento neto</li>
                        <li>Volumen por tema y ciudad</li>
                    </ul>
                </div>
                <div class="output-card">
                    <h3>Alertas y forecast</h3>
                    <ul>
                        <li>Proyeccion a 7-14 dias</li>
                        <li>Triggers de accion definidos</li>
                        <li>Alertas de riesgo narrativo</li>
                        <li>Se√±ales de rivales</li>
                    </ul>
                </div>
                <div class="output-card">
                    <h3>Analisis detallado</h3>
                    <ul>
                        <li>Informe ejecutivo</li>
                        <li>Plan electoral por tema</li>
                        <li>Discurso sugerido</li>
                        <li>Mapa de popularidad geografica</li>
                    </ul>
                </div>
                <div class="output-card" style="background: linear-gradient(135deg, rgba(255, 106, 61, 0.15), rgba(66, 214, 151, 0.1)); border: 1px solid rgba(255, 106, 61, 0.3);">
                    <h3 style="display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="#FF6A3D"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/><circle cx="8" cy="10" r="1.5"/><circle cx="12" cy="10" r="1.5"/><circle cx="16" cy="10" r="1.5"/></svg>
                        Preguntale a CASTOR
                    </h3>
                    <p style="font-size: 0.95rem; color: var(--muted); margin-bottom: 0.75rem;">Tu estratega electoral con IA, disponible 24/7</p>
                    <ul>
                        <li>Consulta tus datos en lenguaje natural</li>
                        <li>Pide analisis comparativos vs rivales</li>
                        <li>Genera ideas para contenido</li>
                        <li>Recibe recomendaciones personalizadas</li>
                        <li>Memoria de tus analisis anteriores</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Metodologia -->
        <section id="metodologia" class="panel" style="padding: 5rem clamp(1.5rem, 4vw, 4rem);">
            <div class="section-header">
                <h2>Metodologia transparente</h2>
                <p class="subtitle">Datos publicos, modelos auditables, uso etico.</p>
            </div>
            <div class="trust-grid" style="margin-top: 2rem;">
                <div class="trust-item">
                    <div class="trust-item-icon">1</div>
                    <p><strong>Datos publicos</strong><br>Solo conversacion publica agregada</p>
                </div>
                <div class="trust-item">
                    <div class="trust-item-icon">2</div>
                    <p><strong>Sin perfilamiento</strong><br>No identificamos individuos</p>
                </div>
                <div class="trust-item">
                    <div class="trust-item-icon">3</div>
                    <p><strong>Modelo BETO</strong><br>Clasificacion de sentimiento auditable</p>
                </div>
                <div class="trust-item">
                    <div class="trust-item-icon">4</div>
                    <p><strong>Ley 1581</strong><br>Cumplimiento de proteccion de datos</p>
                </div>
            </div>
        </section>

        <!-- CTA Final -->
        <section class="cta-electoral">
            <h2>La narrativa cambia todos los dias.</h2>
            <p>Tu estrategia no deberia llegar tarde. Prueba CASTOR ahora.</p>
            <div class="cta-buttons">
                <a href="/dashboard" class="primary-btn large" style="text-decoration: none; display: inline-block;">Ver dashboard en vivo</a>
                <button class="ghost-btn" onclick="openDemoModal()">Solicitar demo personalizada</button>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-grid">
            <div class="footer-column">
                <h3>CASTOR IA Electoral</h3>
                <p>Plataforma de estrategia electoral con inteligencia artificial.</p>
                <p class="muted">2026 CASTOR Elecciones. Todos los derechos reservados.</p>
            </div>
            <div class="footer-column">
                <h4>Plataforma</h4>
                <ul>
                    <li><a href="/dashboard">Dashboard Electoral</a></li>
                    <li><a href="#" onclick="openDemoModal()">Solicitar demo</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Informacion</h4>
                <ul>
                    <li><a href="#como-funciona">Como funciona</a></li>
                    <li><a href="#outputs">Que entrega</a></li>
                    <li><a href="#metodologia">Metodologia</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Legal</h4>
                <ul>
                    <li><a href="#">Uso de datos publicos</a></li>
                    <li><a href="#">Privacidad</a></li>
                    <li><a href="#">Terminos y condiciones</a></li>
                    <li><a href="/contact">Contacto</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Modal para Solicitar Demo -->
    <div id="demoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Solicitar Demo</h2>
                <button class="modal-close" onclick="closeDemoModal()">&times;</button>
            </div>
            <form id="demoForm" class="modal-form">
                <div class="form-row">
                    <label>
                        Nombre *
                        <input type="text" name="first_name" id="demo-first-name" required placeholder="Juan">
                    </label>
                    <label>
                        Apellido *
                        <input type="text" name="last_name" id="demo-last-name" required placeholder="Perez">
                    </label>
                </div>
                <label>
                    Correo electronico *
                    <input type="email" name="email" id="demo-email" required placeholder="juan.perez@campana.com">
                </label>
                <label>
                    Telefono *
                    <input type="tel" name="phone" id="demo-phone" required placeholder="+57 300 123 4567">
                </label>
                <label>
                    Rol en la campana *
                    <select name="interest" id="demo-interest" required>
                        <option value="">Selecciona una opcion</option>
                        <option value="estratega">Estratega / Director de campana</option>
                        <option value="comunicaciones">Comunicaciones</option>
                        <option value="candidato">Candidato</option>
                        <option value="analista">Analista politico</option>
                        <option value="otro">Otro</option>
                    </select>
                </label>
                <label>
                    Ubicacion (Ciudad) *
                    <input type="text" name="location" id="demo-location" required placeholder="Bogota, Medellin, Cali...">
                </label>
                <div class="form-actions">
                    <button type="button" class="ghost-btn" onclick="closeDemoModal()">Cancelar</button>
                    <button type="submit" class="primary-btn">Enviar solicitud</button>
                </div>
            </form>
        </div>
    </div>

    <!-- API Configuration -->
    <script>
        window.API_BASE_URL = (function() {
            if (typeof process !== 'undefined' && process.env && process.env.NEXT_PUBLIC_API_BASE_URL) {
                return process.env.NEXT_PUBLIC_API_BASE_URL;
            }
            // Detectar origen automaticamente
            if (typeof window !== 'undefined' && window.location) {
                var origin = window.location.origin;
                // Si es Vercel, usar el backend en ngrok o Railway
                if (origin.includes('vercel.app')) {
                    return 'https://castorelecciones.ngrok.app';
                }
                return origin;
            }
            return 'https://castorelecciones.ngrok.app';
        })();
    </script>
    <script src="/static/js/config.js?v=20260110c"></script>
    <script src="/static/js/main.js?v=20260110c"></script>
    <script src="/static/js/performance.js?v=20260110c" defer></script>
    <script src="/static/js/landing.js?v=20260110c" defer></script>

    <!-- Hero Radar Chart -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const radarCtx = document.getElementById('hero-radar-chart');
            if (!radarCtx) return;

            // Esperar a que Chart.js cargue
            function initChart() {
                if (typeof Chart === 'undefined') {
                    setTimeout(initChart, 100);
                    return;
                }

                new Chart(radarCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Seguridad', 'Economia', 'Salud', 'Paz', 'SOV', 'SNA'],
                        datasets: [
                            {
                                label: 'Tu campana',
                                data: [68, 52, 58, 55, 62, 58],
                                backgroundColor: 'rgba(66, 214, 151, 0.2)',
                                borderColor: '#42d697',
                                borderWidth: 2,
                                pointBackgroundColor: '#42d697',
                                pointBorderColor: '#42d697',
                                pointRadius: 4
                            },
                            {
                                label: 'Rival seleccionado',
                                data: [76, 52, 38, 50, 70, 32],
                                backgroundColor: 'rgba(255, 106, 61, 0.15)',
                                borderColor: '#FF6A3D',
                                borderWidth: 2,
                                pointBackgroundColor: '#FF6A3D',
                                pointBorderColor: '#FF6A3D',
                                pointRadius: 4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: { color: 'rgba(255,255,255,0.08)' },
                                grid: { color: 'rgba(255,255,255,0.08)' },
                                pointLabels: {
                                    color: '#F5F7FA',
                                    font: { size: 11, weight: '500' }
                                },
                                ticks: {
                                    color: '#8892B0',
                                    backdropColor: 'transparent',
                                    stepSize: 20
                                },
                                suggestedMin: 0,
                                suggestedMax: 100
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#F5F7FA',
                                    padding: 20,
                                    font: { size: 12 }
                                }
                            }
                        }
                    }
                });
            }

            initChart();
        });

        // CTA Flotante - aparece despues de scroll
        (function() {
            const ctaFloating = document.createElement('a');
            ctaFloating.className = 'cta-floating';
            ctaFloating.href = '#';
            ctaFloating.onclick = function(e) { e.preventDefault(); openDemoModal(); };
            ctaFloating.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"/></svg> Solicitar Demo Gratis';
            document.body.appendChild(ctaFloating);

            let lastScrollY = 0;
            window.addEventListener('scroll', function() {
                const scrollY = window.scrollY;
                if (scrollY > 600) {
                    ctaFloating.classList.add('visible');
                } else {
                    ctaFloating.classList.remove('visible');
                }
                lastScrollY = scrollY;
            });
        })();
    </script>

    <!-- RAG Chat Widget - Preguntale a CASTOR -->
    <style>
        .rag-chat-fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: auto;
            min-width: 60px;
            height: 50px;
            border-radius: 25px;
            background: linear-gradient(135deg, #FF6A3D 0%, #FF8C5A 100%);
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(255, 106, 61, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0 16px;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        .rag-chat-fab:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 30px rgba(255, 106, 61, 0.6);
        }
        .rag-chat-fab svg {
            width: 24px;
            height: 24px;
            fill: white;
            flex-shrink: 0;
        }
        .rag-chat-fab-text {
            color: white;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }
        .rag-chat-panel {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 400px;
            max-width: calc(100vw - 48px);
            height: 500px;
            max-height: calc(100vh - 140px);
            background: var(--panel, #141824);
            border: 1px solid var(--border, #1E2433);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            display: none;
            flex-direction: column;
            z-index: 999;
            overflow: hidden;
        }
        .rag-chat-panel.open { display: flex; }
        .rag-chat-header {
            background: linear-gradient(135deg, #FF6A3D 0%, #FF8C5A 100%);
            color: white;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .rag-chat-header-brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .rag-chat-header-brand img {
            width: 32px;
            height: 32px;
            border-radius: 8px;
        }
        .rag-chat-header h3 {
            margin: 0;
            font-size: 1rem;
            font-weight: 700;
        }
        .rag-chat-header button {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        .rag-chat-header button:hover { background: rgba(255,255,255,0.3); }
        .rag-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            background: var(--panel-alt, #1A1F2E);
        }
        .rag-message {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .rag-message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #FF6A3D 0%, #FF8C5A 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }
        .rag-message.assistant {
            align-self: flex-start;
            background: var(--panel, #141824);
            color: var(--text, #F5F7FA);
            border: 1px solid var(--border, #1E2433);
            border-bottom-left-radius: 4px;
        }
        .rag-message.system {
            align-self: center;
            background: rgba(255, 106, 61, 0.15);
            color: #FF8C5A;
            font-size: 0.8rem;
            padding: 8px 12px;
            border-radius: 8px;
        }
        .rag-chat-input-area {
            padding: 12px 16px;
            background: var(--panel, #141824);
            border-top: 1px solid var(--border, #1E2433);
            display: flex;
            gap: 8px;
        }
        .rag-chat-input-area input {
            flex: 1;
            padding: 10px 14px;
            border: 1px solid var(--border, #1E2433);
            border-radius: 24px;
            font-size: 0.9rem;
            outline: none;
            background: var(--panel-alt, #1A1F2E);
            color: var(--text, #F5F7FA);
            transition: border-color 0.2s;
        }
        .rag-chat-input-area input::placeholder { color: var(--muted, #8892B0); }
        .rag-chat-input-area input:focus { border-color: #FF6A3D; }
        .rag-chat-input-area button {
            background: linear-gradient(135deg, #FF6A3D 0%, #FF8C5A 100%);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        .rag-chat-input-area button:hover { transform: scale(1.05); }
        .rag-chat-input-area button:disabled { opacity: 0.6; cursor: not-allowed; }
        .rag-typing {
            display: flex;
            gap: 4px;
            padding: 8px 12px;
        }
        .rag-typing span {
            width: 8px;
            height: 8px;
            background: #FF6A3D;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out both;
        }
        .rag-typing span:nth-child(1) { animation-delay: -0.32s; }
        .rag-typing span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        @media (max-width: 480px) {
            .rag-chat-panel {
                width: calc(100vw - 24px);
                right: 12px;
                bottom: 80px;
                height: calc(100vh - 100px);
            }
            .rag-chat-fab {
                right: 12px;
                bottom: 12px;
                padding: 0 12px;
            }
            .rag-chat-fab-text { font-size: 0.8rem; }
        }
    </style>

    <!-- Floating Chat Button -->
    <button class="rag-chat-fab" id="rag-chat-toggle" aria-label="Preguntale a CASTOR">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
            <circle cx="8" cy="10" r="1.5"/>
            <circle cx="12" cy="10" r="1.5"/>
            <circle cx="16" cy="10" r="1.5"/>
        </svg>
        <span class="rag-chat-fab-text">Preguntale a CASTOR</span>
    </button>

    <!-- Chat Panel -->
    <div class="rag-chat-panel" id="rag-chat-panel">
        <div class="rag-chat-header">
            <div class="rag-chat-header-brand">
                <img src="/static/images/castorlogo.png" alt="CASTOR">
                <h3>CASTOR</h3>
            </div>
            <button id="rag-close-btn" title="Cerrar">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
        </div>
        <div class="rag-chat-messages" id="rag-chat-messages">
            <div class="rag-message assistant">
                Hola! Soy CASTOR, tu estratega electoral con IA. Puedo ayudarte a entender como funciona nuestra plataforma, responder preguntas sobre estrategia electoral, o mostrarte ejemplos de analisis. Que te gustaria saber?
            </div>
        </div>
        <div class="rag-chat-input-area">
            <input type="text" id="rag-chat-input" placeholder="Escribe tu pregunta..." autocomplete="off">
            <button id="rag-send-btn" title="Enviar">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        // RAG Chat - Landing Page Version
        (function() {
            const toggle = document.getElementById('rag-chat-toggle');
            const panel = document.getElementById('rag-chat-panel');
            const closeBtn = document.getElementById('rag-close-btn');
            const input = document.getElementById('rag-chat-input');
            const sendBtn = document.getElementById('rag-send-btn');
            const messages = document.getElementById('rag-chat-messages');

            toggle.addEventListener('click', () => {
                panel.classList.toggle('open');
                if (panel.classList.contains('open')) input.focus();
            });

            closeBtn.addEventListener('click', () => panel.classList.remove('open'));

            async function sendMessage() {
                const query = input.value.trim();
                if (!query) return;

                addMessage(query, 'user');
                input.value = '';
                sendBtn.disabled = true;

                const typingEl = document.createElement('div');
                typingEl.className = 'rag-message assistant';
                typingEl.innerHTML = '<div class="rag-typing"><span></span><span></span><span></span></div>';
                messages.appendChild(typingEl);
                messages.scrollTop = messages.scrollHeight;

                try {
                    const response = await fetch(`${window.API_BASE_URL}/api/chat/rag`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ message: query, top_k: 5 })
                    });

                    typingEl.remove();

                    if (!response.ok) throw new Error('Error en la respuesta');

                    const data = await response.json();
                    let messageContent = data.answer || data.response || 'No pude procesar tu pregunta. Intenta de nuevo.';
                    addMessage(messageContent, 'assistant', true);
                } catch (error) {
                    typingEl.remove();
                    addMessage('Lo siento, hubo un error. Intenta de nuevo o solicita una demo para hablar con nuestro equipo.', 'system');
                    console.error('RAG Chat error:', error);
                }

                sendBtn.disabled = false;
            }

            function addMessage(content, type, isHtml = false) {
                const msgEl = document.createElement('div');
                msgEl.className = `rag-message ${type}`;
                if (isHtml) msgEl.innerHTML = content;
                else msgEl.textContent = content;
                messages.appendChild(msgEl);
                messages.scrollTop = messages.scrollHeight;
            }

            sendBtn.addEventListener('click', sendMessage);
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });
        })();
    </script>
</body>
</html>
